@import "tailwindcss";

/* client/src/styles/tailwind-custom.css */

/* Tailwind directives: required once in your project */
@tailwind utilities;

/* -----------------------------
   Custom keyframes & utilities
   ----------------------------- */

/* slow background zoom */
@keyframes bg-slow-zoom {
  0% { transform: scale(1) translateY(0); }
  50% { transform: scale(1.03) translateY(-6px); }
  100% { transform: scale(1) translateY(0); }
}

/* small card entrance */
@keyframes card-enter {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* subtle sos pulse (outer glow) */
@keyframes sos-pulse-ring {
  0% { box-shadow: 0 0 0 0 rgba(255,160,95,0.22); transform: scale(1); }
  60% { box-shadow: 0 0 0 18px rgba(255,160,95,0); transform: scale(1.02); }
  100% { box-shadow: 0 0 0 0 rgba(255,160,95,0); transform: scale(1); }
}

/* subtle sos breathing (card) */
@keyframes sos-breathe {
  0% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-3px) scale(1.01); }
  100% { transform: translateY(0) scale(1); }
}

/* -----------------------------
   Custom components & utilities
   (use @layer so Tailwind processes them)
   ----------------------------- */

@layer components {
  .glass-card {
    @apply bg-white/10 backdrop-blur-md border border-white/10 rounded-xl;
  }

  .card-enter {
    animation: card-enter 420ms cubic-bezier(.2,.9,.2,1) both;
  }
}

@layer utilities {
  .motion-safe\:animate-bg-slow-zoom {
    animation: bg-slow-zoom 40s ease-in-out infinite;
  }

  .motion-safe\:animate-card-enter {
    animation: card-enter 420ms cubic-bezier(.2,.9,.2,1) both;
  }

  /*
    SOS button: graceful, warm, responsive, accessible.
    Use classes:
      - add "sos-button" to your button.
      - optionally "motion-safe:sos-pulse" to enable slow pulse (respects reduced motion).
  */
  .sos-button {
    @apply inline-flex items-center justify-center font-extrabold text-white shadow-lg;
    /* responsive sizing */
    width: 120px;
    height: 72px;
    border-radius: 18px;

    /* warmer, muted gradient that blends with glassy greens/browns backgrounds */
    background-image: linear-gradient(135deg, #ff8e53 0%, #ffb36b 50%, #ffd599 100%);

    /* inner sheen */
    box-shadow:
      0 18px 40px rgba(16,24,40,0.18),
      inset 0 2px 6px rgba(255,255,255,0.06);

    transition:
      transform 260ms cubic-bezier(.2,.9,.3,1),
      box-shadow 260ms ease,
      opacity 200ms ease,
      filter 200ms ease;
    cursor: pointer;
    border: 1px solid rgba(255,255,255,0.06);
    -webkit-tap-highlight-color: transparent;
  }

  /* smaller for mobile */
  @media (max-width: 640px) {
    .sos-button {
      width: 100px;
      height: 60px;
      font-size: 1.05rem;
      border-radius: 14px;
    }
  }

  .sos-button:hover {
    transform: translateY(-4px) scale(1.02);
    filter: saturate(1.03);
    box-shadow:
      0 26px 60px rgba(16,24,40,0.28),
      inset 0 2px 6px rgba(255,255,255,0.07);
  }

  .sos-button:active {
    transform: translateY(-1px) scale(0.995);
    box-shadow:
      0 10px 28px rgba(16,24,40,0.18),
      inset 0 1px 4px rgba(255,255,255,0.03);
  }

  /* keyboard focus ring (accessible) */
  .sos-button:focus {
    outline: none;
    box-shadow:
      0 26px 60px rgba(16,24,40,0.28),
      0 0 0 8px rgba(255,167,86,0.12);
    border-radius: 18px;
  }

  /* disabled state */
  .sos-button[disabled] {
    opacity: 0.68;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
    filter: grayscale(.06) saturate(.94);
  }

  /* pulse wrapper (outer ring) - only on motion-safe */
  .motion-safe\:sos-pulse {
    animation: sos-pulse-ring 3000ms ease-out infinite;
  }

  /* small breathe effect for subtle life */
  .motion-safe\:sos-breathe {
    animation: sos-breathe 3200ms ease-in-out infinite;
  }

  /* optional label spacing inside the button */
  .sos-label {
    padding-left: 8px;
    padding-right: 8px;
    font-size: 1.1rem;
  }

  /* optional small listening badge (if you show mic state) */
  .sos-status-badge {
    position: fixed;
    bottom: 88px; /* sits above sos button */
    right: 16px;
    z-index: 60;
    background: rgba(10,10,12,0.52);
    color: #fff;
    padding: 8px 12px;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9rem;
    backdrop-filter: blur(6px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.28);
  }
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .motion-safe\:animate-bg-slow-zoom,
  .motion-safe\:animate-card-enter,
  .motion-safe\:sos-pulse,
  .motion-safe\:sos-breathe {
    animation: none !important;
  }
}
